<html><head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Cdb" rel="Chapter" href="Cdb.html">
<link title="Main" rel="Chapter" href="Main.html"><title>CDB OCaml Docs : Cdb.add</title>
</head>
<body>
<code class="code"><span class="keyword">let</span> add cdc k v =
	<span class="comment">(* Add the hash to the list *)</span>
	<span class="keyword">let</span> h = hash k <span class="keyword">in</span>
	cdc.pointers &lt;- (h, pos_out_32 cdc.out) :: cdc.pointers;
	<span class="keyword">let</span> table = hash_to_table h <span class="keyword">in</span>
	cdc.table_count.(table) &lt;- cdc.table_count.(table) + 1;

	<span class="comment">(* Add the data to the file *)</span>
	write_le cdc (<span class="constructor">String</span>.length k);
	write_le cdc (<span class="constructor">String</span>.length v);
	output_string cdc.out k;
	output_string cdc.out v</code></body></html>
